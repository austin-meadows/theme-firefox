/*!
  Horizon

  Original authors & inspiration:
    - lr-tech, Oneline Proton: https://github.com/lr-tech/OnelineProton
    - crambaud, waterfall: https://github.com/crambaud/waterfall

  Check out their awesome work!

  More inspiration: https://firefoxcss-store.github.io/
*/

/*************** Variables and variable overrides ***************/
:root {
  /***** Custom Variables *****/
  /* customizes the browser's line height */
  --custom-line-height: 32px;

  /* url bar width settings */
  --custom-urlbar-width: 380px;

  /* tab width settings */
  --custom-active-tab-width: 175px;
  --custom-inactive-tab-width: 0px; /* this is good to use in conjunction with about:config `browser.tabs.tabMinWidth` */

  /* customize urlbar font size */
  --custom-urlbar-font-size: 1em; /* default: 1.15 */

  /***** Internal FF variables overrides *****/
  /* several height overrides */
  --urlbar-height: var(--custom-line-height) !important;
  --urlbar-toolbar-height: var(--custom-line-height) !important;
  --urlbar-min-height: var(--custom-line-height) !important;
  --tab-min-height: var(--custom-line-height) !important;
  /* removes tabs "pill" margin. */
  --tab-block-margin: 0px !important;
  /* removes rounded borders on various items */
  --tab-border-radius: 0px !important;
  --toolbarbutton-border-radius: 0px !important;
  --urlbar-icon-border-radius: 0px !important;
  /* technically tabs have no shadow now but this also fixes new tab icon height */
  --tabs-navbar-shadow-size: 0px !important;
  /* removes padding next to back button */
  --toolbar-start-end-padding: 0px !important;
}

/*************** Line Height stuff ***************/
#TabsToolbar,
#TabsToolbar .tab-background,
#TabsToolbar .tab-content,
#nav-bar,
#tabbrowser-tabs,
.toolbarbutton-1 {
  max-height: var(--custom-line-height);
  height: var(--custom-line-height);
}

#urlbar-container,
#search-container {
  margin-inline: 0 !important;
  padding-inline: 0 !important;
  padding-block: 0 !important;
}

#urlbar {
  /* fixes urlbar being shifted down some, may be unnecessary */
  top: 0px !important;
  /* fixes focusing adding some width */
  width: 100% !important;
}

/* fixes some extra height with oneline height < 32px? */
#titlebar {
  appearance: none !important;
}

/* media query wrapper can be removed if you want one line on all browser widths */
@media (min-width: 850px) {
  #TabsToolbar {
    margin-left: var(--custom-urlbar-width) !important;
  }

  #nav-bar {
    margin-top: calc(var(--custom-line-height) * -1);
    margin-right: calc(100vw - var(--custom-urlbar-width)) !important;
  }

  #urlbar-container {
    min-width: 0px !important;
  }
}

/*************** Hide things ***************/
/* hide forward button when not available */
#forward-button[disabled="true"] {
  display: none !important;
}

/* hide Shield Icon */
#tracking-protection-icon-container {
  display: none !important;
}

/*************** Misc. Tab Styling ***************/
/* Adjusts focused and unfocused tab widths */
.tabbrowser-tab[selected] {
  max-width: var(--custom-active-tab-width) !important;
}
.tabbrowser-tab {
  max-width: var(--custom-inactive-tab-width) !important;
}

/* removes space that is typically to the right of the tabs on the window */
.titlebar-spacer {
  display: none;
}

/* remove tab shadow */
.tab-background {
  box-shadow: none !important;
}

/* remove gap after pinned tabs */
.tabbrowser-tab {
  margin-inline-start: 0 !important;
}

/*************** Misc. URL / Navbar Styling ***************/
/* removes background color from urlbar area */
#nav-bar {
  background: 0 0 !important;
}

/* fixes urlbar shifting slightly when focusing */
#urlbar[breakout][breakout-extend] {
  left: 0px !important;
}

/* changes urlbar / urlbar dropdown font size */
#urlbar,
#searchbar {
  font-size: var(--custom-urlbar-font-size) !important;
}

/* removes blue focus border that appears sometimes on urlbar */
/* also removes box shadow when focused */
#urlbar-background {
  outline: none !important;
  box-shadow: none !important;
}

/* removes some extra pixels of border around url input */
#searchbar,
#urlbar-input-container {
  border: none !important;
}

/* removes border on bookmarks toolbar */
#navigator-toolbox {
  border: none !important;
}

/* fixes focusing causing tiny bookmark thing on smaller line heights */
#urlbar,
#urlbar-input-container,
.urlbarView {
  padding: 0 !important;
  padding-inline: 0 !important;
  padding-block: 0 !important;
}
